# 紙飛行機ゲーム - Paper Airplane Game

## 概要

Blocklyを使用したビジュアルプログラミングで紙飛行機の飛行をシミュレーションするブラウザゲームです。ブロックを組み合わせて紙飛行機の角度、強さ、重心を設定し、どれだけ遠くまで飛ばせるかにチャレンジしましょう。

## 特徴

- **ビジュアルプログラミング**: Blocklyを使用した直感的なブロックプログラミング
- **物理シミュレーション**: リアルな紙飛行機の飛行シミュレーション
- **ステージモード**: 様々な条件をクリアするステージチャレンジ
- **フリーモード**: 自由に設定を変更して実験可能
- **音響効果**: BGMと効果音による没入感のある体験
- **チュートリアル**: 初心者向けの操作説明機能

## ゲームの遊び方

### 基本操作

1. **角度設定**: 紙飛行機を投げる角度を0-90度で設定
2. **強さ設定**: 投げる力の強さを1-100で設定
3. **重心設定**: 紙飛行機の重心位置を1-10で設定（5が中央）
4. **フライト実行**: プログラムを実行して飛行をシミュレーション

### ブロックの種類

- **角度設定ブロック**: 投げる角度を設定
- **強さ設定ブロック**: 投げる力を設定
- **重心設定ブロック**: 重心位置を設定
- **条件分岐ブロック**: 特定の条件で動作を変更
- **ループブロック**: 繰り返し処理
- **数学ブロック**: 計算や数値演算を行う
- **変数ブロック**: 値を保存・参照するための変数を作成

### ステージモード

複数のステージが用意されており、それぞれ異なる目標があります：

- **ステージ1**: 基本的な飛行
- **ステージ2**: 距離チャレンジ
- **ステージ3**: 複数回の飛行
- **ステージ4**: 障害物回避
- **ステージ5**: 高度な技術チャレンジ

## ファイル構成

```
paper-airplane/
├── README.md              # このファイル
├── index.html            # メインHTMLファイル
├── main.js               # メインJavaScript（ゲーム制御）
├── game.js               # ゲームエンジン（物理演算、描画）
├── custom-blocks.js      # Blocklyカスタムブロック定義
├── style.css             # スタイルシート
├── 330_BPM120.mp3        # BGM音楽ファイル
├── 437_BPM120.mp3        # BGM音楽ファイル
├── blockly/              # Blockly関連ファイル
│   ├── custom_blocks.js  # 追加カスタムブロック
│   └── workspace.js      # ワークスペース設定
├── css/                  # 追加スタイル
│   └── style.css
└── game/                 # ゲーム関連ファイル
    ├── main.js
    └── plane.js
```

## 技術仕様

### 使用技術

- **HTML5 Canvas**: ゲーム描画
- **JavaScript ES6+**: メインロジック
- **Blockly**: ビジュアルプログラミング環境
- **Web Audio API**: 音響効果

### 対応ブラウザ

- Chrome（推奨）
- Firefox
- Safari
- Edge

### 必要な機能

- HTML5 Canvas サポート
- Web Audio API サポート
- ES6+ JavaScript サポート

## セットアップ

1. このディレクトリをWebサーバーで公開
2. ブラウザで `index.html` にアクセス
3. 必要に応じて音声を有効化

### ローカル開発

```bash
# シンプルなHTTPサーバーを起動（Python 3の場合）
python -m http.server 8000

# ブラウザでアクセス
# http://localhost:8000/index.html
```

## 操作方法

### ゲーム画面

- **フライトボタン**: プログラムを実行して飛行開始
- **リセットボタン**: 紙飛行機の位置をリセット
- **ループ停止ボタン**: 実行中のループを停止
- **ヘルプボタン**: 操作方法の説明表示
- **チュートリアルボタン**: 初心者向けガイド開始

### 音響設定

- **🔊ボタン**: 効果音のオン/オフ
- **🎵ボタン**: BGMのオン/オフ  
- **🎚️ボタン**: 音量設定パネル表示

## ゲームのコツ

1. **角度**: 45度前後が一般的に最適
2. **強さ**: 強すぎると失速、弱すぎると飛距離が短い
3. **重心**: 中央（5）が安定、前後にずらすと飛行特性が変わる
4. **風の影響**: ステージによって風の条件が異なる
5. **スイングバイ**: 高度な技術で飛距離を大幅に伸ばせる

## トラブルシューティング

### よくある問題

1. **ブロックが動作しない**
   - ブラウザのJavaScriptが有効になっているか確認
   - ブロックの接続が正しいか確認

2. **音が出ない**
   - ブラウザの音声設定を確認
   - 音量設定パネルで音量を調整

3. **描画が正しくない**
   - ブラウザを再読み込み
   - Canvasサポートブラウザを使用

## 開発者向け情報

### カスタムブロックの追加

新しいブロックを追加する場合は `custom-blocks.js` を編集してください。

### 物理演算の調整

飛行物理は `game.js` の `PaperAirplaneGame` クラスで定義されています。

### 新しいステージの追加

ステージ情報は `game.js` の `stageProgress` オブジェクトで管理されています。

## ライセンス

このプロジェクトは教育目的で作成されています。

## 更新履歴

- v1.0: 基本的なゲーム機能実装
- v1.1: ステージモード追加
- v1.2: 音響効果追加
- v1.3: チュートリアル機能追加

---

楽しい紙飛行機プログラミングをお楽しみください！ 🛩️
